function showVideo(){hideUI(),video.classList.add("visible"),controls.classList.add("visible")}function takeSnapshot(){var e=document.querySelector("canvas"),t=e.getContext("2d"),a=video.videoWidth,n=video.videoHeight;return a&&n?(e.width=a,e.height=n,t.drawImage(video,0,0,a,n),e.toDataURL("image/png")):void 0}function displayErrorMessage(e,t){t=t||"",t&&console.log(t),error_message.innerText=e,hideUI(),error_message.classList.add("visible")}function hideUI(){controls.classList.remove("visible"),start_camera.classList.remove("visible"),video.classList.remove("visible"),snap.classList.remove("visible"),error_message.classList.remove("visible")}function toggleMore(){var e=document.getElementById("more");e.classList.toggle("closed")}function toggleBrightness(){var e=document.getElementById("bslider");e.classList.toggle("closed")}function toggleSaturate(){var e=document.getElementById("sslider");e.classList.toggle("closed")}function toggleContrast(){var e=document.getElementById("cslider");e.classList.toggle("closed")}function toggleOpacity(){var e=document.getElementById("oslider");e.classList.toggle("closed")}function toggleScale(){var e=document.getElementById("zslider");e.classList.toggle("closed")}function resetB(){var e=sRange.value,t=cRange.value,a=oRange.value;p.style.filter="brightness(100%) saturate("+e+"%) contrast("+t+"%) opacity("+a+"%)",document.getElementById("b").value=100,document.getElementById("bPointSize").value="100٪"}function resetS(){var e=bRange.value,t=cRange.value,a=oRange.value;p.style.filter="brightness("+e+"%) saturate(100%) contrast("+t+"%) opacity("+a+"%)",document.getElementById("s").value=100,document.getElementById("sPointSize").value="100٪"}function resetC(){var e=bRange.value,t=sRange.value,a=oRange.value;p.style.filter="brightness("+e+"%) saturate("+t+"%) contrast(100%) opacity("+a+"%)",document.getElementById("c").value=100,document.getElementById("cPointSize").value="100٪"}function resetO(){var e=bRange.value,t=sRange.value,a=cRange.value;p.style.filter="brightness("+e+"%) saturate("+t+"%) contrast("+a+"%) opacity(100%)",document.getElementById("o").value=100,document.getElementById("oPointSize").value="100٪"}function resetZ(){p.style.transform="scale3d(1,1,1)",document.getElementById("z").value=1,document.getElementById("zPointSize").value="1×"}function toggleGrid(){var e=document.getElementById("grid");e.classList.toggle("hidden")}var video=document.querySelector("#camera-stream"),image=document.querySelector("#snap"),start_camera=document.querySelector("#start-camera"),controls=document.querySelector(".controls"),take_photo_btn=document.querySelector("#take-photo"),delete_photo_btn=document.querySelector("#delete-photo"),download_photo_btn=document.querySelector("#download-photo"),error_message=document.querySelector("#error-message");navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getMedia?navigator.getMedia({video:!0},function(e){video.src=window.URL.createObjectURL(e),video.play(),video.onplay=function(){showVideo()}},function(e){displayErrorMessage("There was an error with accessing the camera stream: "+e.name,e)}):displayErrorMessage("Your browser doesn't have support for the navigator.getUserMedia interface."),start_camera.addEventListener("click",function(e){e.preventDefault(),video.play(),showVideo()}),take_photo_btn.addEventListener("click",function(e){e.preventDefault();var t=takeSnapshot();image.setAttribute("src",t),image.classList.add("visible"),delete_photo_btn.classList.remove("disabled"),download_photo_btn.classList.remove("disabled"),download_photo_btn.href=t,video.pause()}),delete_photo_btn.addEventListener("click",function(e){e.preventDefault(),image.setAttribute("src",""),image.classList.remove("visible"),delete_photo_btn.classList.add("disabled"),download_photo_btn.classList.add("disabled"),video.play()}),function(e){function a(){var e=document.getElementById("capture");html2canvas(e,{onrendered:function(e){e.toBlob(function(e){saveAs(e,"Saap.png")})}})}function o(){a()}e.screenshotPage=a,e.saap=o}(window);var p=document.getElementById("capture"),bRange=document.getElementById("b"),sRange=document.getElementById("s"),cRange=document.getElementById("c"),oRange=document.getElementById("o"),zRange=document.getElementById("z");bRange.addEventListener("input",function(){var e=sRange.value,t=cRange.value,a=oRange.value;p.style.filter="brightness("+this.value+"%) saturate("+e+"%) contrast("+t+"%) opacity("+a+"%)",document.getElementById("bPointSize").value=this.value+"٪"},!1),sRange.addEventListener("input",function(){var e=bRange.value,t=cRange.value,a=oRange.value;p.style.filter="brightness("+e+"%) saturate("+this.value+"%) contrast("+t+"%) opacity("+a+"%)",document.getElementById("sPointSize").value=this.value+"٪"},!1),cRange.addEventListener("input",function(){var e=bRange.value,t=sRange.value,a=oRange.value;p.style.filter="brightness("+e+"%) saturate("+t+"%) contrast("+this.value+"%) opacity("+a+"%)",document.getElementById("cPointSize").value=this.value+"٪"},!1),oRange.addEventListener("input",function(){var e=bRange.value,t=sRange.value,a=cRange.value;p.style.filter="brightness("+e+"%) saturate("+t+"%) contrast("+a+"%) opacity("+this.value+"%)",document.getElementById("oPointSize").value=this.value+"٪"},!1),zRange.addEventListener("input",function(){p.style.transform="scale3d("+this.value+","+this.value+","+this.value+")",document.getElementById("zPointSize").value=this.value+"×"},!1);